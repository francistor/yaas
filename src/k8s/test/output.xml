<?xml version="1.0" encoding="UTF-8"?>
<robot rpa="false" generated="20190616 21:49:17.325" generator="Robot 3.1.2 (Python 2.7.5 on linux2)">
<suite source="/home/francisco/Yaas/src/k8s/test/smoke.robot" id="s1" name="Smoke">
<test id="s1-t1" name="Radius">
<kw name="Set Environment Variable" library="OperatingSystem">
<doc>Sets an environment variable to a specified value.</doc>
<arguments>
<arg>YAAS_REQUEST_NUMBER</arg>
<arg>1000</arg>
</arguments>
<msg timestamp="20190616 21:49:18.717" level="INFO">Environment variable 'YAAS_REQUEST_NUMBER' set to value '1000'.</msg>
<status status="PASS" endtime="20190616 21:49:18.717" starttime="20190616 21:49:18.716"></status>
</kw>
<kw name="Run Process" library="Process">
<doc>Runs a process and waits for it to complete.</doc>
<arguments>
<arg>kubectl</arg>
<arg>exec -it kagent -- curl -X PATCH http://yaas-server-0.yaas-server:1900/radius/metrics/reset</arg>
</arguments>
<msg timestamp="20190616 21:49:18.719" level="INFO">Starting process:
kubectl "exec -it kagent -- curl -X PATCH http://yaas-server-0.yaas-server:1900/radius/metrics/reset"</msg>
<msg timestamp="20190616 21:49:18.730" level="INFO">Waiting for process to complete.</msg>
<msg timestamp="20190616 21:49:19.085" level="INFO">Process completed.</msg>
<status status="PASS" endtime="20190616 21:49:19.087" starttime="20190616 21:49:18.718"></status>
</kw>
<kw name="Run Process" library="Process">
<doc>Runs a process and waits for it to complete.</doc>
<arguments>
<arg>kubectl</arg>
<arg>exec -it kagent -- curl -X PATCH http://yaas-server-1.yaas-server:1900/radius/metrics/reset</arg>
</arguments>
<msg timestamp="20190616 21:49:19.092" level="INFO">Starting process:
kubectl "exec -it kagent -- curl -X PATCH http://yaas-server-1.yaas-server:1900/radius/metrics/reset"</msg>
<msg timestamp="20190616 21:49:19.106" level="INFO">Waiting for process to complete.</msg>
<msg timestamp="20190616 21:49:19.459" level="INFO">Process completed.</msg>
<status status="PASS" endtime="20190616 21:49:19.460" starttime="20190616 21:49:19.089"></status>
</kw>
<kw name="Run Process" library="Process">
<doc>Runs a process and waits for it to complete.</doc>
<arguments>
<arg>kubectl</arg>
<arg>exec -it kagent -- curl -X PATCH http://yaas-superserver-0.yaas-superserver:1900/radius/metrics/reset</arg>
</arguments>
<msg timestamp="20190616 21:49:19.465" level="INFO">Starting process:
kubectl "exec -it kagent -- curl -X PATCH http://yaas-superserver-0.yaas-superserver:1900/radius/metrics/reset"</msg>
<msg timestamp="20190616 21:49:19.478" level="INFO">Waiting for process to complete.</msg>
<msg timestamp="20190616 21:49:19.821" level="INFO">Process completed.</msg>
<status status="PASS" endtime="20190616 21:49:19.822" starttime="20190616 21:49:19.462"></status>
</kw>
<kw name="Run Process" library="Process">
<doc>Runs a process and waits for it to complete.</doc>
<arguments>
<arg>kubectl</arg>
<arg>exec -it kagent -- curl -X PATCH http://yaas-superserver-0.yaas-superserver:1900/radius/metrics/reset</arg>
</arguments>
<msg timestamp="20190616 21:49:19.827" level="INFO">Starting process:
kubectl "exec -it kagent -- curl -X PATCH http://yaas-superserver-0.yaas-superserver:1900/radius/metrics/reset"</msg>
<msg timestamp="20190616 21:49:19.840" level="INFO">Waiting for process to complete.</msg>
<msg timestamp="20190616 21:49:20.203" level="INFO">Process completed.</msg>
<status status="PASS" endtime="20190616 21:49:20.204" starttime="20190616 21:49:19.824"></status>
</kw>
<kw name="Start Process" library="Process">
<doc>Starts a new process on background.</doc>
<arguments>
<arg>kubectl</arg>
<arg>--namespace monitoring port-forward svc/prometheus-k8s 9090</arg>
</arguments>
<assign>
<var>${redirector}</var>
</assign>
<msg timestamp="20190616 21:49:20.208" level="INFO">Starting process:
kubectl "--namespace monitoring port-forward svc/prometheus-k8s 9090"</msg>
<msg timestamp="20190616 21:49:20.221" level="INFO">${redirector} = 5</msg>
<status status="PASS" endtime="20190616 21:49:20.221" starttime="20190616 21:49:20.206"></status>
</kw>
<kw name="Start Process" library="Process">
<doc>Starts a new process on background.</doc>
<arguments>
<arg>${aaaserver}</arg>
<arg>-Dinstance\=radius</arg>
<arg>-Dconfig.file\=${k8sClientConfig}/aaa-default.conf</arg>
<arg>-Dlogback.configurationFile\=${k8sClientConfig}/logback-default.xml</arg>
<arg>stdout=radius.stdout.log</arg>
<arg>stderr=radius.stderr.log</arg>
</arguments>
<assign>
<var>${radius_client}</var>
</assign>
<msg timestamp="20190616 21:49:20.229" level="INFO">Starting process:
/home/francisco/Yaas/target/universal/stage/bin/aaaserver -Dinstance=radius -Dconfig.file=/home/francisco/Yaas/src/k8s/conf/client/aaa-default.conf -Dlogback.configurationFile=/home/francisco/Yaas/src/k8s/conf/client/logback-default.xml</msg>
<msg timestamp="20190616 21:49:20.244" level="INFO">${radius_client} = 6</msg>
<status status="PASS" endtime="20190616 21:49:20.244" starttime="20190616 21:49:20.224"></status>
</kw>
<kw name="Wait For Process" library="Process">
<doc>Waits for the process to complete or to reach the given timeout.</doc>
<arguments>
<arg>${radius_client}</arg>
</arguments>
<msg timestamp="20190616 21:49:20.249" level="INFO">Waiting for process to complete.</msg>
<msg timestamp="20190616 21:51:08.137" level="INFO">Process completed.</msg>
<status status="PASS" endtime="20190616 21:51:08.139" starttime="20190616 21:49:20.246"></status>
</kw>
<kw name="Get" library="REST">
<tags>
<tag>http</tag>
</tags>
<doc>*Sends a GET request to the endpoint.*</doc>
<arguments>
<arg>/api/v1/query?query=sum(radius_server_requests\{})</arg>
</arguments>
<status status="PASS" endtime="20190616 21:51:08.302" starttime="20190616 21:51:08.141"></status>
</kw>
<kw name="String" library="REST">
<tags>
<tag>assertions</tag>
</tags>
<doc>*Asserts the field as JSON string.*</doc>
<arguments>
<arg>$.data.result[0].value[1]</arg>
<arg>pattern=70...</arg>
</arguments>
<msg timestamp="20190616 21:51:08.490" level="FAIL">u'204771' does not match u'70...'

Failed validating u'pattern' in schema:
    {u'examples': [u'204771'], u'pattern': u'70...', 'type': u'string'}

On instance:
    u'204771'</msg>
<status status="FAIL" endtime="20190616 21:51:08.490" starttime="20190616 21:51:08.304"></status>
</kw>
<doc>Radius requests</doc>
<status status="FAIL" endtime="20190616 21:51:08.492" critical="yes" starttime="20190616 21:49:18.713">u'204771' does not match u'70...'

Failed validating u'pattern' in schema:
    {u'examples': [u'204771'], u'pattern': u'70...', 'type': u'string'}

On instance:
    u'204771'</status>
</test>
<doc>Smoke tests for radius/diameter. Use pip install --upgrade RESTinstance</doc>
<status status="FAIL" endtime="20190616 21:51:08.496" starttime="20190616 21:49:17.329"></status>
</suite>
<statistics>
<total>
<stat fail="1" pass="0">Critical Tests</stat>
<stat fail="1" pass="0">All Tests</stat>
</total>
<tag>
</tag>
<suite>
<stat fail="1" id="s1" name="Smoke" pass="0">Smoke</stat>
</suite>
</statistics>
<errors>
</errors>
</robot>
